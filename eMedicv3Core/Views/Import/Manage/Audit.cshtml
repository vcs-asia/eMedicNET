<%@ Page Language="C#" MasterPageFile="~/eMedicNET.master" Title="Audit" AutoEventWireup="true" Inherits="Manage_Audit" Codebehind="Audit.aspx.cs" %>
<asp:Content runat="server" ContentPlaceHolderID="head">
</asp:Content>
<asp:Content runat="server" ContentPlaceHolderID="contentForm">
    <h4>Login Details</h4>
    <asp:Panel runat="server" ID="pnlError" CssClass="alert alert-error error-icon" Visible="false">
        <button type="button" class="close" data-dismiss="alert">x</button>
        <strong>Oh snap!</strong> Error in saving data. Please check and save again.
        <asp:Label runat="server" ID="lblError"></asp:Label>
    </asp:Panel>
    <asp:Panel runat="server" ID="pnlSuccess" CssClass="alert alert-success success-icon" Visible="false">
        <button type="button" class="close" data-dismiss="alert">x</button>
        <strong>Oh Yeah!</strong> The Record has been saved Successfully.
    </asp:Panel>
    <div class="well">
        <div class="control-group">
            <label class="control-label">From Date</label>
            <div class="controls">
                <asp:TextBox runat="server" ID="txtFromDate" CssClass="dt" Required="true" ClientIDMode="Static"></asp:TextBox>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">To Date</label>
            <div class="controls">
                <asp:TextBox runat="server" ID="txtToDate" CssClass="dt" Required="true" ClientIDMode="Static"></asp:TextBox>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Module</label>
            <div class="controls">
                <select id="selModule" name="selModuel">
                    <optgroup label="Patient">
                        <option value="PAT_QUEUE">Patient Queue</option>
                        <option value="PATIENT_REGISTRATION">Patient Registration</option>
                        <option value="PATIENT_VISIT_MST">Patient Visit</option>
                    </optgroup>
                    <optgroup label="Inventory">
                        <option value="MEDICINE_MST">Drugs/ Items</option>
                        <option value="PURCHASE_ORDER_INFO">Purchase Order</option>
                        <option value="GRN_INFO">Goods Received Note</option>
                        <option value="STOCK_ISSUE_INFO">Stock Issue</option>
                        <option value="STOCK_TRANSFER_INFO">Stock Transfer</option>
                        <option value="STOCK_ADJUSTMENT_INFO">Stock Adjustment</option>
                        <option value="OUTLET_STOCK_ADJUSTMENT_INFO">Outlet - Stock Adjustment</option>
                        <option value="SUPPLIER_MST">Supplier</option>
                    </optgroup>
                    <optgroup label="Manage">
                        <option value="COMP_MST">Components</option>
                        <option value="PARAMETERS_INFO">Parameters</option>
                        <option value="DOCTOR_MST">Doctors</option>
                        <option value="OUTLET_MST">Outlets</option>
                        <option value="CLINIC_MST">Profile</option>
                        <option value="USER_MST">User Profile</option>
                        <option value="USER_SETTINGS">User Settings</option>
                        <option value="SYSTEM_SETTINGS">System Settings</option>
                        <option value="ALLERGY_MST">Allergies</option>
                        <option value="SERVICE_MST">Services</option>
                    </optgroup>
                    <optgroup label="Panel">
                        <option value="COMPANY_MST">Panel Companies</option>
                        <option value="INV_MST">Invoicing</option>
                    </optgroup>
                </select>
            </div>
        </div>
    </div>
    <p>
        <button type="button" class="btn btn-primary" onclick="generateReport()">Generate</button>
        <button type="button" class="btn" onclick="goBack()">Back</button>
    </p>
</asp:Content>
<asp:Content runat="server" ContentPlaceHolderID="Script">
    <script type="text/javascript">
        function generateReport() {
            var fdate = $("#txtFromDate").val();
            var tdate = $("#txtToDate").val();

            window.open("<%:ResolveUrl("~/report-preview.aspx?param=")%>" + fdate.split('/').join('') + tdate.split('/').join('') + "&_mD=LOGIN");
        }
    </script>
</asp:Content>
